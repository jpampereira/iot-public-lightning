CREATE TABLE IF NOT EXISTS DADOS_EQUIPAMENTOS (
	ID_EQUIPAMENTO SMALLSERIAL PRIMARY KEY,
	LATITUDE CHARACTER VARYING(25) NOT NULL,
	LONGITUDE CHARACTER VARYING(25) NOT NULL,
	STATUS BOOLEAN NOT NULL
);

CREATE TABLE IF NOT EXISTS DADOS_SENSORES_TEMPO_REAL (
	ID_DADO SERIAL PRIMARY KEY,
	ID_EQUIPAMENTO SMALLSERIAL NOT NULL,
	TENSAO SMALLINT NOT NULL,
	CORRENTE REAL NOT NULL,
	LUMINOSIDADE SMALLINT NOT NULL,
	RELE_STATE BOOLEAN NOT NULL,
	HORA_INSERCAO TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	FOREIGN KEY (ID_EQUIPAMENTO) REFERENCES DADOS_EQUIPAMENTOS(ID_EQUIPAMENTO)
);

CREATE TABLE IF NOT EXISTS DADOS_SENSORES_POR_HORA (
	ID_DADO SERIAL PRIMARY KEY,
	ID_EQUIPAMENTO SMALLSERIAL NOT NULL,
	TENSAO_MIN SMALLINT NOT NULL,	
	TENSAO_MAX SMALLINT NOT NULL,
	TENSAO_MEDIA SMALLINT NOT NULL,
	CORRENTE_MIN REAL NOT NULL,	
	CORRENTE_MAX REAL NOT NULL,
	CORRENTE_MEDIA REAL NOT NULL,
	LUMINOSIDADE_MIN SMALLINT NOT NULL,	
	LUMINOSIDADE_MAX SMALLINT NOT NULL,
	LUMINOSIDADE_MEDIA SMALLINT NOT NULL,
	POTENCIA_MIN SMALLINT NOT NULL,
	POTENCIA_MAX SMALLINT NOT NULL,
	POTENCIA_MEDIA SMALLINT NOT NULL,
	HORA_INSERCAO TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	FOREIGN KEY (ID_EQUIPAMENTO) REFERENCES DADOS_EQUIPAMENTOS(ID_EQUIPAMENTO)
);

