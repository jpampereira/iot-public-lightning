CREATE TABLE IF NOT EXISTS DADOS_EQUIPAMENTOS (
	ID_EQUIPAMENTO SMALLSERIAL PRIMARY KEY,
	LATITUDE CHARACTER VARYING(25) NOT NULL,
	LONGITUDE CHARACTER VARYING(25) NOT NULL,
	STATUS BOOLEAN NOT NULL
);

CREATE TABLE IF NOT EXISTS DADOS_SENSORES_TEMPO_REAL (
	ID_DADO SERIAL PRIMARY KEY,
	ID_EQUIPAMENTO SMALLSERIAL NOT NULL,
	TENSAO SMALLINT NOT NULL,
	CORRENTE REAL NOT NULL,
	LUMINOSIDADE SMALLINT NOT NULL,
	RELE_STATE BOOLEAN NOT NULL,
	HORA_INSERCAO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	FOREIGN KEY (ID_EQUIPAMENTO) REFERENCES DADOS_EQUIPAMENTOS(ID_EQUIPAMENTO)
);

CREATE TABLE IF NOT EXISTS DADOS_SENSORES_POR_HORA (
	ID_DADO SERIAL PRIMARY KEY,
	ID_EQUIPAMENTO SMALLSERIAL NOT NULL,
	MIN_TENSAO REAL NOT NULL,	
	MAX_TENSAO REAL NOT NULL,
	MEDIA_TENSAO REAL NOT NULL,
	MIN_CORRENTE REAL NOT NULL,	
	MAX_CORRENTE REAL NOT NULL,
	MEDIA_CORRENTE REAL NOT NULL,
	MIN_LUMINOSIDADE REAL NOT NULL,	
	MAX_LUMINOSIDADE REAL NOT NULL,
	MEDIA_LUMINOSIDADE REAL NOT NULL,
	POTENCIA REAL NOT NULL,
	HORA_INSERCAO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	FOREIGN KEY (ID_EQUIPAMENTO) REFERENCES DADOS_EQUIPAMENTOS(ID_EQUIPAMENTO)
);

